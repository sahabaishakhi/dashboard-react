{"version":3,"sources":["io/ianalytics/d4d/api/units.cljs"],"mappings":"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","names":["io.ianalytics.d4d.api.units/unitstable","io.ianalytics.d4d.api.units/transform","values-in-si","target-unit","vec__35639","seq__35640","cljs.core/seq","first__35641","cljs.core/first","cljs.core/next","factor","offset","_","cljs.core/clj->js","cljs.core.map","value","io.ianalytics.d4d.api.units/dimension","unit","cljs.core/last","io.ianalytics.d4d.api.units/display-unit-map"],"sourcesContent":["(ns io.ianalytics.d4d.api.units\r\n  \"Associating units to systema quantities, and converting from and to SI units.\")\r\n\r\n;;; units table from https://gitlab.iab.berlin/julia/Units\r\n(def unitstable\r\n  {\r\n   ;; value[UNIT] =    FACTOR * (value[SI]  +   OFFSET)                 DIMENSION\r\n   \"\"                  [1.                      0.                      \"Untransformed\"]\r\n   \"-\"                 [1.                      0.                      \"Dimensionless\"]\r\n   \"%\"                 [1e2                     0.                      \"Dimensionless\"]\r\n   \"ppm\"               [1e6                     0.                      \"Dimensionless\"]\r\n\r\n   \"dB\"                [1.                      0.                      \"Logarithmic\"]\r\n\r\n   \"kmol\"              [1.                      0.                      \"AmountOfSubstance\"]\r\n   \"mol\"               [1e3                     0.                      \"AmountOfSubstance\"]\r\n\r\n   \"A\"                 [1.                      0.                      \"ElectricCurrent\"]\r\n   \"mA\"                [1e3                     0.                      \"ElectricCurrent\"]\r\n   \"kA\"                [1e-3                    0.                      \"ElectricCurrent\"]\r\n   \"MA\"                [1e-6                    0.                      \"ElectricCurrent\"]\r\n\r\n   \"kg\"                [1.                      0.                      \"Mass\"]\r\n   \"g\"                 [1e3                     0.                      \"Mass\"]\r\n   \"t\"                 [1e-3                    0.                      \"Mass\"]\r\n\r\n   \"kgm2\"              [1.                      0.                      \"Inertia\"]\r\n\r\n   \"K\"                 [1.                      0.                      \"Temperature\"]\r\n   \"C\"                 [1.                      -273.15                 \"Temperature\"]\r\n   \"F\"                 [1.8                     -255.37222222222223     \"Temperature\"]\r\n   \"R\"                 [1.8                     0.                      \"Temperature\"]\r\n\r\n   \"s\"                 [1.                      0.                      \"Time\"]\r\n   \"min\"               [0.016666666666666666    0.                      \"Time\"]\r\n   \"h\"                 [0.0002777777777777778   0.                      \"Time\"]\r\n   \"d\"                 [1.1574074074074073e-5   0.                      \"Time\"]\r\n   \"w\"                 [1.6534391534391535e-6   0.                      \"Time\"]\r\n   \"y\"                 [3.1709791983764586e-8   0.                      \"Time\"]\r\n\r\n   \"m\"                 [1.                      0.                      \"Length\"]\r\n   \"cm\"                [1e2                     0.                      \"Length\"]\r\n   \"mm\"                [1e3                     0.                      \"Length\"]\r\n   \"\u03bcm\"                [1e6                     0.                      \"Length\"]                   ;; '\u03bc': Unicode U+03bc (category Ll: Letter, lowercase)\r\n   \"\u00b5m\"                [1e6                     0.                      \"Length\"]                   ;; '\u00b5': Unicode U+00b5 (category Ll: Letter, lowercase)\r\n   \"km\"                [1e-3                    0.                      \"Length\"]\r\n   \"in\"                [39.37007874             0.                      \"Length\"]\r\n   \"yd\"                [1.0936132983            0.                      \"Length\"]\r\n   \"ft\"                [3.280839895013          0.                      \"Length\"]\r\n\r\n   \"m2\"                [1.                      0.                      \"Area\"]\r\n   \"cm2\"               [1e4                     0.                      \"Area\"]\r\n   \"mm2\"               [1e6                     0.                      \"Area\"]\r\n   \"km2\"               [1e-6                    0.                      \"Area\"]\r\n\r\n   \"m3\"                [1.                      0.                      \"Volume\"]\r\n   \"cm3\"               [1e6                     0.                      \"Volume\"]\r\n   \"mm3\"               [1e9                     0.                      \"Volume\"]\r\n   \"km3\"               [1e-9                    0.                      \"Volume\"]\r\n   \"l\"                 [1000.                   0.                      \"Volume\"]\r\n\r\n   \"N\"                 [1.                      0.                      \"Force\"]\r\n   \"kN\"                [1e-3                    0.                      \"Force\"]\r\n   \"MN\"                [1e-6                    0.                      \"Force\"]\r\n\r\n   \"Nm\"                [1.                      0.                      \"Torque\"]\r\n\r\n   \"kg/s\"              [1.                      0.                      \"MassFlow\"]\r\n   \"kg/h\"              [3600.                   0.                      \"MassFlow\"]\r\n   \"t/h\"               [3.6                     0.                      \"MassFlow\"]\r\n   \"t/d\"               [86.4                    0.                      \"MassFlow\"]\r\n   \"t/a\"               [31536.                  0.                      \"MassFlow\"]\r\n   \"lb/s\"              [2.2046226               0.                      \"MassFlow\"]\r\n   \"lb/h\"              [7.936641e3              0.                      \"MassFlow\"]\r\n   \"Nm3/h(air)\"        [2784.06463371229        0.                      \"MassFlow\"]\r\n\r\n   \"Nm3/s\"             [1.                      0.                      \"StdVolumeFlow\"]\r\n   \"Nm3/h\"             [3600.                   0.                      \"StdVolumeFlow\"]\r\n   \"kNm3/h\"            [3.6                     0.                      \"StdVolumeFlow\"]\r\n   \"SCFM60\"            [2118.868524208073       0.                      \"StdVolumeFlow\"]\r\n   \"SCFM70\"            [2118.868524208073       0.                      \"StdVolumeFlow\"]\r\n   \"MSCFD60\"           [3.051170674859625       0.                      \"StdVolumeFlow\"]\r\n   \"MSCFD70\"           [3.051170674859625       0.                      \"StdVolumeFlow\"]\r\n   \"SCFH70\"            [1.271328e5              0.                      \"StdVolumeFlow\"]\r\n\r\n   \"m3/s\"              [1.                      0.                      \"VolumeFlow\"]\r\n   \"m3/h\"              [3600.                   0.                      \"VolumeFlow\"]\r\n   \"l/min\"             [6e4                     0.                      \"VolumeFlow\"]\r\n   \"l/h\"               [3.6e6                   0.                      \"VolumeFlow\"]\r\n   \"ft/min\"            [2118.8                  0.                      \"VolumeFlow\"]\r\n\r\n   \"Pa\"                [1.                      0.                      \"Pressure\"]\r\n   \"hPa\"               [1e-2                    0.                      \"Pressure\"]\r\n   \"kPa\"               [1e-3                    0.                      \"Pressure\"]\r\n   \"MPa\"               [1e-6                    0.                      \"Pressure\"]\r\n   \"bar\"               [1e-5                    0.                      \"Pressure\"]\r\n   \"bara\"              [1e-5                    0.                      \"Pressure\"]\r\n   \"barg\"              [1e-5                    -101325.                \"Pressure\"]\r\n   \"mbar\"              [1e-2                    0.                      \"Pressure\"]\r\n   \"mbara\"             [1e-2                    0.                      \"Pressure\"]\r\n   \"mbarg\"             [1e-2                    -101325.                \"Pressure\"]\r\n   \"psi\"               [1.45037738e-4           0.                      \"Pressure\"]\r\n   \"kg/cm2\"            [1.019716213e-5          0.                      \"Pressure\"]\r\n   \"lb/ft2\"            [0.020885434234          0.                      \"Pressure\"]\r\n   \"lb/in2\"            [1.45037738e-4           0.                      \"Pressure\"]\r\n\r\n   \"kg/m3\"             [1.                      0.                      \"Density\"]\r\n   \"g/cm3\"             [1e-3                    0.                      \"Density\"]\r\n   \"g/m3\"              [1e3                     0.                      \"Density\"]\r\n\r\n   \"kg/Nm3\"            [1.                      0.                      \"StdDensity\"]\r\n   \"g/Ncm3\"            [1e-3                    0.                      \"StdDensity\"]\r\n\r\n   \"m3/kg\"             [1.                      0.                      \"SpecificVolume\"]\r\n\r\n   \"W\"                 [1.                      0.                      \"Power\"]\r\n   \"kW\"                [1e-3                    0.                      \"Power\"]\r\n   \"MW\"                [1e-6                    0.                      \"Power\"]\r\n   \"hp\"                [0.0013410220895991106   0.                      \"Power\"]\r\n\r\n   \"J\"                 [1.                      0.                      \"Energy\"]\r\n   \"kJ\"                [1e-3                    0.                      \"Energy\"]\r\n   \"MJ\"                [1e-6                    0.                      \"Energy\"]\r\n   \"kWh\"               [2.777777777777778e-7    0.                      \"Energy\"]\r\n\r\n   \"J/kg\"              [1.                      0.                      \"SpecificEnergy\"]\r\n   \"kJ/kg\"             [1e-3                    0.                      \"SpecificEnergy\"]\r\n\r\n   \"J/(kg*K)\"          [1.                      0.                      \"SpecificHeatCapacity\"]\r\n   \"kJ/(kg*K)\"         [1e-3                    0.                      \"SpecificHeatCapacity\"]\r\n\r\n   \"rad\"               [1.                      0.                      \"Angle\"]\r\n   \"deg\"               [57.29577951308232       0.                      \"Angle\"]\r\n\r\n   \"Hz\"                [1.                      0.                      \"Frequency\"]\r\n   \"1/s\"               [1.                      0.                      \"Frequency\"]\r\n   \"rpm\"               [60.                     0.                      \"Frequency\"]\r\n   \"krpm\"              [0.06                    0.                      \"Frequency\"]\r\n   \"1/min\"             [60.                     0.                      \"Frequency\"]\r\n\r\n   \"m/s\"               [1.                      0.                      \"Velocity\"]\r\n   \"mm/s\"              [1e3                     0.                      \"Velocity\"]\r\n\r\n   \"m/s2\"              [1.                      0.                      \"Acceleration\"]\r\n   \"mm/s2\"             [1e3                     0.                      \"Acceleration\"]\r\n\r\n   \"Pa*s\"              [1.                      0.                      \"Viscosity\"]\r\n   \"\u03bcPa*s\"             [1e6                     0.                      \"Viscosity\"]\r\n\r\n   \"kg/kmol\"           [1.                      0.                      \"MolarMass\"]\r\n\r\n   \"V\"                 [1.                      0.                      \"Voltage\"]\r\n   \"mV\"                [1e3                     0.                      \"Voltage\"]\r\n   \"kV\"                [1e-3                    0.                      \"Voltage\"]\r\n   \"MV\"                [1e-6                    0.                      \"Voltage\"]\r\n\r\n   \"A*s\"               [1.                      0.                      \"ElectricCharge\"]})\r\n\r\n(defn transform [values-in-si target-unit]\r\n  (let [[factor offset & _] (unitstable target-unit)]\r\n    (clj->js (map (fn [value] (if value (* factor (+ value offset)) nil)) values-in-si))))\r\n\r\n(defn dimension [unit]\r\n  (clj->js (last (unitstable unit))))\r\n\r\n(def display-unit-map\r\n  {\"Temperature\"                {:short \"K\"     :long \"Kelvin\"}\r\n\r\n   \"Pressure\"                   {:short \"bar\"   :long \"Bar\"}\r\n   \"DifferentialPressure\"       {:short \"bar\"   :long \"Bar\"}\r\n\r\n   \"Length\"                     {:short \"m\"     :long \"Meters\"}\r\n   \"Diameter\"                   {:short \"m\"     :long \"Meters\"}\r\n   \"Displacement\"               {:short \"m\"     :long \"Meters\"}\r\n   \"Velocity\"                   {:short \"m/s\"   :long \"Meters per second\"}\r\n   \"Acceleration\"               {:short \"m/s\u00b2\"  :long \"Meters per second per second\"}\r\n   \"MassFlow\"                   {:short \"kg/s\"  :long \"Kilograms per second\"}\r\n   \"VolumeFlow\"                 {:short \"m\u00b3/s\"  :long \"Cubic meters per second\"}\r\n   \"Density\"                    {:short \"kg/m\u00b3\" :long \"kilograms per cubic meter\"}\r\n   \"MolarFraction\"              {:short \"-\"     :long \"Molar fraction\"}\r\n   \"ElectricCurrent\"            {:short \"A\"     :long \"Amperes\"}\r\n   \"Speed\"                      {:short \"m/s\"   :long \"Meters per second\"}\r\n   \"pH\"                         {:short \"pH\"    :long \"potential Hydrogen\"}\r\n   \"Status\"                     {:short \"-\"     :long \"Status\"}\r\n   \"Level\"                      {:short \"-\"     :long \"Level\"}\r\n   \"Position\"                   {:short \"%\"     :long \"Position\"}\r\n   \"Unknown\"                    {:short \"-\"     :long \"\"}})\r\n"]}